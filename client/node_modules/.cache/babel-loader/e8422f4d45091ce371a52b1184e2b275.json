{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\COMP3000_LEMA\\\\Project\\\\lema\\\\client\\\\src\\\\components\\\\modals\\\\LoginRegisterModal.jsx\";\nimport { Component } from \"react\";\nimport { Textbox } from \"../controls/Textbox\";\nimport { Button } from \"../controls/Button\";\nimport { LabeledControl } from \"../controls/LabeledControl\";\nimport { ColourPicker } from \"../controls/ColourPicker\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class LoginRegisterModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      /* Login */\n      loginUsername: \"\",\n      loginPassword: \"\",\n      rememberMe: false,\n\n      /* Register */\n      displayName: \"\",\n      username: \"\",\n      password: \"\",\n      passwordConfirm: \"\",\n      email: \"\",\n      emailConfirm: \"\",\n      dataConsent: false\n    };\n    this.onFieldChange = this.onFieldChange.bind(this);\n  }\n\n  onFieldChange(event) {\n    const target = event.target;\n    const name = target.name;\n    let value = target.type === \"checkbox\" ? target.checked : target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n  /**\r\n   * Validates form data.\r\n   * @param mode Whether to validate login or register data\r\n   * @returns {boolean}\r\n   */\n\n\n  validation(mode) {\n    let errorCollector = \"\";\n\n    if (mode === \"login\") {\n      // New user data\n      let username = this.state.loginUsername;\n      let password = this.state.loginPassword; // Client-side validation\n\n      if (username === \"\") errorCollector += \"Username missing.\\n\";\n      if (password === \"\") errorCollector += \"Password missing.\\n\";\n    } else if (mode === \"register\") {\n      // New user data\n      let username = this.state.username;\n      let displayName = this.state.displayName;\n      let password = this.state.password;\n      let passwordConfirm = this.state.passwordConfirm;\n      let email = this.state.email;\n      let emailConfirm = this.state.emailConfirm; // Client-side validation\n\n      if (displayName.length < 3) errorCollector += \"Display name too short (min. 3 characters).\\n\";\n      if (displayName.length > 32) errorCollector += \"Display name too long (max. 32 characters).\\n\";\n      if (username.length < 3) errorCollector += \"Username too short (min. 3 characters).\\n\";\n      if (username.length > 32) errorCollector += \"Username too long (max. 32 characters).\\n\";\n      if (password.length < 6) errorCollector += \"Password too short (min. 6 characters).\\n\";\n      if (password !== passwordConfirm) errorCollector += \"Passwords do not match.\\n\";\n      if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) errorCollector += \"E-mail address invalid.\\n\";\n      if (email !== emailConfirm) errorCollector += \"E-mails do not match.\\n\";\n    }\n\n    return errorCollector === \"\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login/Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"User Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: [/*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Username: \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"loginUsername\",\n                    value: this.state.loginUsername,\n                    hint: \"e.g. \\\"JordanFinch72\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Password: \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"loginPassword\",\n                    isPassword: true,\n                    value: this.state.loginPassword,\n                    hint: \"e.g. \\\"JordanFinch72\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Remember me:\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"rememberMe\",\n                    alt: \"This will set an essential cookie to keep you logged in.\",\n                    checked: this.state.rememberMe,\n                    onChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Let's do this!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                value: \"Login\",\n                onClick: e => {\n                  this.props.authenticateUser(e, this.state);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"register-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"User Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: [/*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Display name: \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"displayName\",\n                    value: this.state.displayName,\n                    hint: \"e.g. \\\"Jordan F.\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Username: \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"username\",\n                    value: this.state.username,\n                    hint: \"e.g. \\\"JordanFinch72\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Password: \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"password\",\n                    isPassword: true,\n                    value: this.state.password,\n                    hint: \"e.g. \\\"JordanFinch72\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Password (confirm): \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"passwordConfirm\",\n                    isPassword: true,\n                    value: this.state.passwordConfirm,\n                    hint: \"e.g. \\\"JordanFinch72\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"E-mail address: \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"email\",\n                    value: this.state.email,\n                    hint: \"e.g. \\\"JordanFinch72\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"E-mail address (confirm): \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"emailConfirm\",\n                    value: this.state.emailConfirm,\n                    hint: \"e.g. \\\"JordanFinch72\\\"\",\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Legal Stuff\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"By ticking this box, you agree that your user data will be used in accordance with the \", /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\",\n                      target: \"_blank\",\n                      children: \"privacy policy\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 101\n                    }, this), \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    name: \"dataConsent\",\n                    checked: this.state.dataConsent,\n                    onChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Let's do this!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                value: \"Register\",\n                onClick: e => {\n                  this.props.registerUser(e, this.state);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/xampp/htdocs/COMP3000_LEMA/Project/lema/client/src/components/modals/LoginRegisterModal.jsx"],"names":["Component","Textbox","Button","LabeledControl","ColourPicker","LoginRegisterModal","constructor","props","state","loginUsername","loginPassword","rememberMe","displayName","username","password","passwordConfirm","email","emailConfirm","dataConsent","onFieldChange","bind","event","target","name","value","type","checked","setState","validation","mode","errorCollector","length","test","render","e","authenticateUser","registerUser"],"mappings":"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","sourcesContent":["import {Component} from \"react\";\r\nimport {Textbox} from \"../controls/Textbox\";\r\nimport {Button} from \"../controls/Button\";\r\nimport {LabeledControl} from \"../controls/LabeledControl\";\r\nimport {ColourPicker} from \"../controls/ColourPicker\";\r\n\r\nexport class LoginRegisterModal extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t/* Login */\r\n\t\t\tloginUsername: \"\",\r\n\t\t\tloginPassword: \"\",\r\n\t\t\trememberMe: false,\r\n\r\n\t\t\t/* Register */\r\n\t\t\tdisplayName: \"\",\r\n\t\t\tusername: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tpasswordConfirm: \"\",\r\n\t\t\temail: \"\",\r\n\t\t\temailConfirm: \"\",\r\n\t\t\tdataConsent: false\r\n\t\t};\r\n\r\n\t\tthis.onFieldChange = this.onFieldChange.bind(this);\r\n\t}\r\n\r\n\tonFieldChange(event)\r\n\t{\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tlet value = (target.type === \"checkbox\") ? target.checked : target.value;\r\n\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Validates form data.\r\n\t * @param mode Whether to validate login or register data\r\n\t * @returns {boolean}\r\n\t */\r\n\tvalidation(mode)\r\n\t{\r\n\t\tlet errorCollector = \"\";\r\n\t\tif(mode === \"login\")\r\n\t\t{\r\n\t\t\t// New user data\r\n\t\t\tlet username = this.state.loginUsername;\r\n\t\t\tlet password = this.state.loginPassword;\r\n\r\n\t\t\t// Client-side validation\r\n\t\t\tif(username === \"\")\r\n\t\t\t\terrorCollector += \"Username missing.\\n\";\r\n\t\t\tif(password === \"\")\r\n\t\t\t\terrorCollector += \"Password missing.\\n\";\r\n\t\t}\r\n\t\telse if(mode === \"register\")\r\n\t\t{\r\n\t\t\t// New user data\r\n\t\t\tlet username = this.state.username;\r\n\t\t\tlet displayName = this.state.displayName;\r\n\t\t\tlet password = this.state.password;\r\n\t\t\tlet passwordConfirm = this.state.passwordConfirm;\r\n\t\t\tlet email = this.state.email;\r\n\t\t\tlet emailConfirm = this.state.emailConfirm;\r\n\r\n\t\t\t// Client-side validation\r\n\t\t\tif(displayName.length < 3)\r\n\t\t\t\terrorCollector += \"Display name too short (min. 3 characters).\\n\";\r\n\t\t\tif(displayName.length > 32)\r\n\t\t\t\terrorCollector += \"Display name too long (max. 32 characters).\\n\";\r\n\t\t\tif(username.length < 3)\r\n\t\t\t\terrorCollector += \"Username too short (min. 3 characters).\\n\";\r\n\t\t\tif(username.length > 32)\r\n\t\t\t\terrorCollector += \"Username too long (max. 32 characters).\\n\";\r\n\t\t\tif(password.length < 6)\r\n\t\t\t\terrorCollector += \"Password too short (min. 6 characters).\\n\";\r\n\t\t\tif(password !== passwordConfirm)\r\n\t\t\t\terrorCollector += \"Passwords do not match.\\n\";\r\n\t\t\tif(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email))\r\n\t\t\t\terrorCollector += \"E-mail address invalid.\\n\";\r\n\t\t\tif(email !== emailConfirm)\r\n\t\t\t\terrorCollector += \"E-mails do not match.\\n\";\r\n\t\t}\r\n\t\treturn (errorCollector === \"\");\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className={\"modal\"}>\r\n\t\t\t\t<h2>Login/Register</h2>\r\n\t\t\t\t<div className={\"top\"}>\r\n\t\t\t\t\t<div className={\"left\"}>\r\n\t\t\t\t\t\t<h3>Login</h3>\r\n\t\t\t\t\t\t<div className={\"login-data\"}>\r\n\t\t\t\t\t\t\t{/* cognateWordLanguage */}\r\n\t\t\t\t\t\t\t<div className={\"section\"}>\r\n\t\t\t\t\t\t\t\t<h4>User Data</h4>\r\n\t\t\t\t\t\t\t\t<div className={\"form\"}>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Username: \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"loginUsername\"} value={this.state.loginUsername} hint={\"e.g. \\\"JordanFinch72\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Password: \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"loginPassword\"} isPassword={true} value={this.state.loginPassword} hint={\"e.g. \\\"JordanFinch72\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Remember me:\"}>\r\n\t\t\t\t\t\t\t\t\t\t<input type={\"checkbox\"} name={\"rememberMe\"} alt={\"This will set an essential cookie to keep you logged in.\"} checked={this.state.rememberMe} onChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={\"section\"}>\r\n\t\t\t\t\t\t\t\t<h4>Let's do this!</h4>\r\n\t\t\t\t\t\t\t\t<Button value={\"Login\"} onClick={(e) => {this.props.authenticateUser(e, this.state)}} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={\"right\"}>\r\n\t\t\t\t\t\t<h3>Register</h3>\r\n\t\t\t\t\t\t<div className={\"register-data\"}>\r\n\t\t\t\t\t\t\t<div className={\"section\"}>\r\n\t\t\t\t\t\t\t\t<h4>User Data</h4>\r\n\t\t\t\t\t\t\t\t<div className={\"form\"}>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Display name: \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"displayName\"} value={this.state.displayName} hint={\"e.g. \\\"Jordan F.\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Username: \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"username\"} value={this.state.username} hint={\"e.g. \\\"JordanFinch72\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Password: \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"password\"} isPassword={true} value={this.state.password} hint={\"e.g. \\\"JordanFinch72\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Password (confirm): \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"passwordConfirm\"} isPassword={true} value={this.state.passwordConfirm} hint={\"e.g. \\\"JordanFinch72\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"E-mail address: \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"email\"} value={this.state.email} hint={\"e.g. \\\"JordanFinch72\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"E-mail address (confirm): \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"emailConfirm\"} value={this.state.emailConfirm} hint={\"e.g. \\\"JordanFinch72\\\"\"} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={\"section\"}>\r\n\t\t\t\t\t\t\t\t<h4>Legal Stuff</h4>\r\n\t\t\t\t\t\t\t\t<div className={\"form\"}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p>By ticking this box, you agree that your user data will be used in accordance with the <a href={\"#\"} target={\"_blank\"}>privacy policy</a>.</p>\r\n\t\t\t\t\t\t\t\t\t\t<input type={\"checkbox\"} name={\"dataConsent\"} checked={this.state.dataConsent} onChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={\"section\"}>\r\n\t\t\t\t\t\t\t\t<h4>Let's do this!</h4>\r\n\t\t\t\t\t\t\t\t<Button value={\"Register\"} onClick={(e) => {this.props.registerUser(e, this.state)}} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={\"bottom\"}>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}