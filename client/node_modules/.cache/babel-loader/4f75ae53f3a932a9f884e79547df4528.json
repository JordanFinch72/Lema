{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\COMP3000_LEMA\\\\Project\\\\lema\\\\src\\\\Lema.js\";\nimport \"./css/Lema.css\";\nimport { Component } from \"react\";\nimport { Banner } from \"./components/Banner\";\nimport { LeftBar } from \"./components/LeftBar\";\nimport { Map } from \"./components/Map\";\nimport { AddEditCollectionModal } from \"./components/AddEditCollectionModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Lema extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeModal: null,\n      // Either null or a React component\n      activeContextMenu: null,\n      // Either null or a React component\n      items: [{\n        // TODO: Dummy data\n        type: \"journey\",\n        header: {\n          word: \"horse\",\n          language: \"English (UK)\"\n        },\n        childNodes: [{\n          word: \"kers\",\n          language: \"Proto-Indo-European\",\n          colour: \"yellow\"\n        }, {\n          word: \"krsos\",\n          language: \"Proto-Indo-European\",\n          colour: \"green\"\n        }, {\n          word: \"hrussa\",\n          language: \"Proto-Germanic\",\n          colour: \"blue\"\n        }, {\n          word: \"hross\",\n          language: \"Proto-West-Germanic\",\n          colour: \"orange\"\n        }, {\n          word: \"horse\",\n          language: \"English\",\n          colour: \"red\"\n        }]\n      }]\n    };\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.openContextMenu = this.openContextMenu.bind(this);\n    this.closeContextMenu = this.closeContextMenu.bind(this);\n  }\n\n  openModal(e, modalComponent) {\n    this.setState({\n      activeModal: modalComponent\n    });\n  }\n\n  closeModal() {\n    this.setState({\n      activeModal: null\n    });\n  }\n\n  openContextMenu(e, menuComponent) {\n    this.setState({\n      activeContextMenu: menuComponent\n    });\n  }\n\n  closeContextMenu() {\n    this.setState({\n      activeContextMenu: null\n    });\n  }\n\n  editNodeColour(e, node) {\n    // TODO: Open modal, allow user choice\n    let newValue = \"red\"; // Find node and set colour\n\n    let newItems = this.state.items;\n\n    for (let i = 0; i < newItems.length; ++i) {\n      for (let j = 0; j < newItems[i].childNodes.length; ++j) {\n        let childNode = newItems[i].childNodes[j];\n\n        if (childNode === node) {\n          newItems[i].childNodes[j].colour = newValue;\n        }\n      }\n    }\n\n    this.setState({\n      items: newItems\n    });\n  }\n\n  removeNode(e, parentIndex, childIndex) {\n    let newItems = this.state.items;\n    delete newItems[parentIndex].childNodes[childIndex];\n    this.setState({\n      items: newItems\n    }, function () {\n      console.log(this.state);\n    });\n  }\n\n  addCollection(e, data) {\n    if (data.type === \"Cognates\") data.type = \"cognate\";else if (data.type === \"Historical journey\") data.type = \"journey\"; // Data validation\n\n    let errorCollector = \"\";\n    if (data.header.word === null || data.header.word.length <= 0) errorCollector += \"You must enter a word.\\n\";\n    if (data.header.language === null || data.header.language.length <= 0) errorCollector += \"You must enter a language.\\n\";\n    if (errorCollector.length > 0) alert(errorCollector); // TODO: Proper error handling with toast\n    else {\n      this.setState(prevState => ({\n        items: [...prevState.items, {\n          type: data.type,\n          header: data.header,\n          childNodes: []\n        }]\n      }), this.closeModal);\n    }\n  }\n\n  editCollection(e, data) {\n    if (data.type === \"Cognates\") data.type = \"cognate\";else if (data.type === \"Historical journey\") data.type = \"journey\"; // Data validation\n\n    let errorCollector = \"\";\n    if (data.header.word === null || data.header.word.length <= 0) errorCollector += \"You must enter a word.\\n\";\n    if (data.header.language === null || data.header.language.length <= 0) errorCollector += \"You must enter a language.\\n\";\n    let newItems = this.state.items;\n    newItems[data.index].type = data.type;\n    newItems[data.index].header = data.header;\n    this.setState({\n      items: newItems\n    }, this.closeModal);\n  }\n\n  render() {\n    let modalContainer = null,\n        contextMenuContainer = null;\n\n    if (this.state.activeModal !== null) {\n      let activeModal = this.state.activeModal;\n      modalContainer = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-container\",\n        onClick: e => {\n          if (e.nativeEvent.target.className === \"modal-container\") this.closeModal(); // Closes modal if they click off the modal\n        },\n        children: activeModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }, this);\n    }\n\n    if (this.state.activeContextMenu !== null) {\n      let activeContextMenu = this.state.activeContextMenu;\n      contextMenuContainer = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"context-menu-container\",\n        onClick: this.closeContextMenu,\n        children: activeContextMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }, this);\n    }\n\n    let tempItems = [{\n      type: \"journey\",\n      header: {\n        word: \"horse\",\n        language: \"English (UK)\"\n      },\n      childNodes: [{\n        word: \"kers\",\n        language: \"Proto-Indo-European\",\n        colour: \"orange\"\n      }, {\n        word: \"krsos\",\n        language: \"Proto-Indo-European\",\n        colour: \"orange\"\n      }, {\n        word: \"hrussa\",\n        language: \"Proto-Germanic\",\n        colour: \"orange\"\n      }, {\n        word: \"hross\",\n        language: \"Proto-West-Germanic\",\n        colour: \"orange\"\n      }, {\n        word: \"horse\",\n        language: \"English\",\n        colour: \"orange\"\n      }]\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Lema\",\n      children: [/*#__PURE__*/_jsxDEV(Banner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-view-container\",\n        children: [/*#__PURE__*/_jsxDEV(LeftBar, {\n          items: this.state.items,\n          openModal: this.openModal,\n          closeModal: this.closeModal,\n          openContextMenu: this.openContextMenu,\n          closeContextMenu: this.closeContextMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Map, {\n          items: tempItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 5\n      }, this), modalContainer, contextMenuContainer]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Lema;","map":{"version":3,"sources":["D:/xampp/htdocs/COMP3000_LEMA/Project/lema/src/Lema.js"],"names":["Component","Banner","LeftBar","Map","AddEditCollectionModal","Lema","constructor","props","state","activeModal","activeContextMenu","items","type","header","word","language","childNodes","colour","openModal","bind","closeModal","openContextMenu","closeContextMenu","e","modalComponent","setState","menuComponent","editNodeColour","node","newValue","newItems","i","length","j","childNode","removeNode","parentIndex","childIndex","console","log","addCollection","data","errorCollector","alert","prevState","editCollection","index","render","modalContainer","contextMenuContainer","nativeEvent","target","className","tempItems"],"mappings":"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","sourcesContent":["import \"./css/Lema.css\";\nimport {Component} from \"react\";\nimport {Banner} from \"./components/Banner\";\nimport {LeftBar} from \"./components/LeftBar\";\nimport {Map} from \"./components/Map\";\nimport {AddEditCollectionModal} from \"./components/AddEditCollectionModal\";\n\nclass Lema extends Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveModal: null, // Either null or a React component\n\t\t\tactiveContextMenu: null, // Either null or a React component\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\t// TODO: Dummy data\n\t\t\t\t\ttype: \"journey\",\n\t\t\t\t\theader: {word: \"horse\", language: \"English (UK)\"},\n\t\t\t\t\tchildNodes: [\n\t\t\t\t\t\t{word: \"kers\", language: \"Proto-Indo-European\", colour: \"yellow\"},\n\t\t\t\t\t\t{word: \"krsos\", language: \"Proto-Indo-European\", colour: \"green\"},\n\t\t\t\t\t\t{word: \"hrussa\", language: \"Proto-Germanic\", colour: \"blue\"},\n\t\t\t\t\t\t{word: \"hross\", language: \"Proto-West-Germanic\", colour: \"orange\"},\n\t\t\t\t\t\t{word: \"horse\", language: \"English\", colour: \"red\"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tthis.openModal = this.openModal.bind(this);\n\t\tthis.closeModal = this.closeModal.bind(this);\n\t\tthis.openContextMenu = this.openContextMenu.bind(this);\n\t\tthis.closeContextMenu = this.closeContextMenu.bind(this);\n\t}\n\n\topenModal(e, modalComponent)\n\t{\n\t\tthis.setState({\n\t\t\tactiveModal: modalComponent\n\t\t});\n\t}\n\tcloseModal()\n\t{\n\t\tthis.setState({\n\t\t\tactiveModal: null\n\t\t});\n\t}\n\topenContextMenu(e, menuComponent)\n\t{\n\t\tthis.setState({\n\t\t\tactiveContextMenu: menuComponent\n\t\t});\n\t}\n\tcloseContextMenu()\n\t{\n\t\tthis.setState({\n\t\t\tactiveContextMenu: null\n\t\t});\n\t}\n\n\teditNodeColour(e, node)\n\t{\n\t\t// TODO: Open modal, allow user choice\n\t\tlet newValue = \"red\";\n\n\t\t// Find node and set colour\n\t\tlet newItems = this.state.items;\n\t\tfor(let i = 0; i < newItems.length; ++i)\n\t\t{\n\t\t\tfor(let j = 0; j < newItems[i].childNodes.length; ++j)\n\t\t\t{\n\t\t\t\tlet childNode = newItems[i].childNodes[j];\n\t\t\t\tif(childNode === node)\n\t\t\t\t{\n\t\t\t\t\tnewItems[i].childNodes[j].colour = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.setState({items: newItems});\n\t}\n\tremoveNode(e, parentIndex, childIndex)\n\t{\n\t\tlet newItems = this.state.items;\n\t\tdelete newItems[parentIndex].childNodes[childIndex];\n\t\tthis.setState({items: newItems}, function()\n\t\t{\n\t\t\tconsole.log(this.state);\n\t\t});\n\t}\n\n\taddCollection(e, data)\n\t{\n\t\tif(data.type === \"Cognates\") data.type = \"cognate\";\n\t\telse if(data.type === \"Historical journey\") data.type = \"journey\";\n\n\t\t// Data validation\n\t\tlet errorCollector = \"\";\n\t\tif(data.header.word === null || data.header.word.length <= 0)\n\t\t\terrorCollector += \"You must enter a word.\\n\";\n\t\tif(data.header.language === null || data.header.language.length <= 0)\n\t\t\terrorCollector += \"You must enter a language.\\n\";\n\n\t\tif(errorCollector.length > 0)\n\t\t\talert(errorCollector); // TODO: Proper error handling with toast\n\t\telse\n\t\t{\n\t\t\tthis.setState((prevState) => ({\n\t\t\t\titems: [\n\t\t\t\t\t...prevState.items,\n\t\t\t\t\t{type: data.type, header: data.header, childNodes: []}\n\t\t\t\t]\n\t\t\t}), this.closeModal);\n\t\t}\n\t}\n\teditCollection(e, data)\n\t{\n\t\tif(data.type === \"Cognates\") data.type = \"cognate\";\n\t\telse if(data.type === \"Historical journey\") data.type = \"journey\";\n\n\t\t// Data validation\n\t\tlet errorCollector = \"\";\n\t\tif(data.header.word === null || data.header.word.length <= 0)\n\t\t\terrorCollector += \"You must enter a word.\\n\";\n\t\tif(data.header.language === null || data.header.language.length <= 0)\n\t\t\terrorCollector += \"You must enter a language.\\n\";\n\n\t\tlet newItems = this.state.items;\n\t\tnewItems[data.index].type = data.type;\n\t\tnewItems[data.index].header = data.header;\n\t\tthis.setState({items: newItems}, this.closeModal);\n\t}\n\n\trender()\n\t{\n\t\tlet modalContainer = null, contextMenuContainer = null;\n\t\tif(this.state.activeModal !== null)\n\t\t{\n\t\t\tlet activeModal = this.state.activeModal;\n\t\t\tmodalContainer = <div className={\"modal-container\"} onClick={(e) =>\n\t\t\t{\n\t\t\t\tif(e.nativeEvent.target.className === \"modal-container\") this.closeModal(); // Closes modal if they click off the modal\n\t\t\t}}>{activeModal}</div>;\n\t\t}\n\t\tif(this.state.activeContextMenu !== null)\n\t\t{\n\t\t\tlet activeContextMenu = this.state.activeContextMenu;\n\t\t\tcontextMenuContainer =\n\t\t\t\t<div className={\"context-menu-container\"} onClick={this.closeContextMenu}>{activeContextMenu}</div>;\n\t\t}\n\n\t\tlet tempItems = [\n\t\t\t{\n\t\t\t\ttype: \"journey\",\n\t\t\t\theader: {word: \"horse\", language: \"English (UK)\"},\n\t\t\t\tchildNodes: [\n\t\t\t\t\t{word: \"kers\", language: \"Proto-Indo-European\", colour: \"orange\"},\n\t\t\t\t\t{word: \"krsos\", language: \"Proto-Indo-European\", colour: \"orange\"},\n\t\t\t\t\t{word: \"hrussa\", language: \"Proto-Germanic\", colour: \"orange\"},\n\t\t\t\t\t{word: \"hross\", language: \"Proto-West-Germanic\", colour: \"orange\"},\n\t\t\t\t\t{word: \"horse\", language: \"English\", colour: \"orange\"}\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\n\t\treturn (\n\t\t\t<div className=\"Lema\">\n\t\t\t\t<Banner/>\n\t\t\t\t<div className={\"main-view-container\"}>\n\t\t\t\t\t<LeftBar items={this.state.items}\n\t\t\t\t\t         openModal={this.openModal} closeModal={this.closeModal}\n\t\t\t\t\t         openContextMenu={this.openContextMenu} closeContextMenu={this.closeContextMenu}/>\n\t\t\t\t\t<Map items={tempItems}/>\n\t\t\t\t</div>\n\t\t\t\t{modalContainer}\n\t\t\t\t{contextMenuContainer}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Lema;\n"]},"metadata":{},"sourceType":"module"}