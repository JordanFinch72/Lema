{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\COMP3000_LEMA\\\\Project\\\\lema\\\\src\\\\components\\\\Collections.jsx\";\nimport { Component } from \"react\";\nimport { Journey } from \"./Journey\";\nimport { Cognate } from \"./Cognate\";\nimport { Button } from \"./Button\";\nimport { AddCollectionModal } from \"./AddCollectionModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Collections extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [{\n        // TODO: Dummy data\n        type: \"journey\",\n        header: {\n          word: \"horse\",\n          language: \"English (UK)\"\n        },\n        childNodes: [{\n          word: \"kers\",\n          language: \"Proto-Indo-European\"\n        }, {\n          word: \"krsos\",\n          language: \"Proto-Indo-European\"\n        }, {\n          word: \"hrussa\",\n          language: \"Proto-Germanic\"\n        }, {\n          word: \"hross\",\n          language: \"Proto-West-Germanic\"\n        }, {\n          word: \"horse\",\n          language: \"English\"\n        }]\n      }]\n    };\n    this.onNodeColourClick = this.onNodeColourClick.bind(this);\n    this.onAddCollectionSubmit = this.onAddCollectionSubmit.bind(this);\n    this.openModal = this.props.openModal.bind(this);\n    this.closeModal = this.props.closeModal.bind(this);\n    this.openContextMenu = this.props.openContextMenu.bind(this);\n    this.closeContextMenu = this.props.closeContextMenu.bind(this);\n  }\n  /**\r\n   * Open a modal that allows user to change the colour of the node on the map\r\n   */\n\n\n  onNodeColourClick(e, node) {\n    // TODO: Open modal, allow user choice\n    let newValue = \"red\"; // Find node and set colour\n\n    let newItems = this.state.items;\n\n    for (let i = 0; i < newItems.length; ++i) {\n      for (let j = 0; j < newItems[i].childNodes.length; ++j) {\n        let childNode = newItems[i].childNodes[j];\n\n        if (childNode === node) {\n          newItems[i].childNodes[j].colour = newValue;\n        }\n      }\n    }\n\n    this.setState({\n      items: newItems\n    });\n  }\n\n  onAddCollectionSubmit(e, data) {\n    if (data.type === \"Cognates\") data.type = \"cognate\";else if (data.type === \"Historical journey\") data.type = \"journey\";\n    this.setState(prevState => ({\n      items: [...prevState.items, {\n        type: data.type,\n        header: data.header,\n        childNodes: []\n      }]\n    }), function () {\n      this.closeModal();\n    });\n  }\n\n  addNodeHandler(e, parent) {\n    // TODO: Open node add modal\n    console.log(parent);\n  }\n\n  render() {\n    // TODO: Consider whether both cognates AND journeys may be displayed at the same time\n    let itemElements = this.state.items.map((item, index) => {\n      if (item.type === \"cognate\") {\n        return /*#__PURE__*/_jsxDEV(Cognate, {\n          header: item.header,\n          childNodes: item.childNodes,\n          openContextMenu: this.openContextMenu,\n          closeContextMenu: this.closeContextMenu,\n          addNodeHandler: this.addNodeHandler\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 12\n        }, this);\n      } else if (item.type === \"journey\") {\n        return /*#__PURE__*/_jsxDEV(Journey, {\n          header: item.header,\n          childNodes: item.childNodes,\n          onNodeColourClick: this.onNodeColourClick,\n          openContextMenu: this.openContextMenu,\n          closeContextMenu: this.closeContextMenu,\n          addNodeHandler: this.addNodeHandler\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 12\n        }, this);\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"collections-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Journeys\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          value: \"+\",\n          id: \"manual-add\",\n          style: {\n            alignSelf: \"end\"\n          },\n          onClick: e => {\n            this.openModal(e, /*#__PURE__*/_jsxDEV(AddCollectionModal, {\n              onAddCollectionSubmit: this.onAddCollectionSubmit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 25\n            }, this));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this), itemElements]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/xampp/htdocs/COMP3000_LEMA/Project/lema/src/components/Collections.jsx"],"names":["Component","Journey","Cognate","Button","AddCollectionModal","Collections","constructor","props","state","items","type","header","word","language","childNodes","onNodeColourClick","bind","onAddCollectionSubmit","openModal","closeModal","openContextMenu","closeContextMenu","e","node","newValue","newItems","i","length","j","childNode","colour","setState","data","prevState","addNodeHandler","parent","console","log","render","itemElements","map","item","index","alignSelf"],"mappings":"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","sourcesContent":["import {Component} from \"react\";\r\nimport {Journey} from \"./Journey\";\r\nimport {Cognate} from \"./Cognate\";\r\nimport {Button} from \"./Button\";\r\nimport {AddCollectionModal} from \"./AddCollectionModal\";\r\n\r\nexport class Collections extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\t// TODO: Dummy data\r\n\t\t\t\t\ttype: \"journey\",\r\n\t\t\t\t\theader: {word: \"horse\", language: \"English (UK)\"},\r\n\t\t\t\t\tchildNodes: [{word: \"kers\", language: \"Proto-Indo-European\"}, {word: \"krsos\", language: \"Proto-Indo-European\"},\r\n\t\t\t\t\t\t{word: \"hrussa\", language: \"Proto-Germanic\"}, {word: \"hross\", language: \"Proto-West-Germanic\"}, {word: \"horse\", language: \"English\"}]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t};\r\n\r\n\t\tthis.onNodeColourClick = this.onNodeColourClick.bind(this);\r\n\t\tthis.onAddCollectionSubmit = this.onAddCollectionSubmit.bind(this);\r\n\t\tthis.openModal = this.props.openModal.bind(this);\r\n\t\tthis.closeModal = this.props.closeModal.bind(this);\r\n\t\tthis.openContextMenu = this.props.openContextMenu.bind(this);\r\n\t\tthis.closeContextMenu = this.props.closeContextMenu.bind(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Open a modal that allows user to change the colour of the node on the map\r\n\t */\r\n\tonNodeColourClick(e, node)\r\n\t{\r\n\t\t// TODO: Open modal, allow user choice\r\n\t\tlet newValue = \"red\";\r\n\r\n\t\t// Find node and set colour\r\n\t\tlet newItems = this.state.items;\r\n\t\tfor(let i = 0; i < newItems.length; ++i)\r\n\t\t{\r\n\t\t\tfor(let j = 0; j < newItems[i].childNodes.length; ++j)\r\n\t\t\t{\r\n\t\t\t\tlet childNode = newItems[i].childNodes[j];\r\n\t\t\t\tif(childNode === node)\r\n\t\t\t\t{\r\n\t\t\t\t\tnewItems[i].childNodes[j].colour = newValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({items: newItems});\r\n\t}\r\n\r\n\tonAddCollectionSubmit(e, data)\r\n\t{\r\n\t\tif(data.type === \"Cognates\") data.type = \"cognate\";\r\n\t\telse if(data.type === \"Historical journey\") data.type = \"journey\";\r\n\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\titems: [\r\n\t\t\t\t...prevState.items,\r\n\t\t\t\t{type: data.type, header: data.header, childNodes:[]}\r\n\t\t\t]\r\n\t\t}), function(){\r\n\t\t\tthis.closeModal();\r\n\t\t});\r\n\t}\r\n\r\n\taddNodeHandler(e, parent)\r\n\t{\r\n\t\t// TODO: Open node add modal\r\n\t\tconsole.log(parent);\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\t// TODO: Consider whether both cognates AND journeys may be displayed at the same time\r\n\t\tlet itemElements = this.state.items.map((item, index) => {\r\n\t\t\tif(item.type === \"cognate\")\r\n\t\t\t{\r\n\t\t\t\treturn <Cognate header={item.header} childNodes={item.childNodes} key={index} openContextMenu={this.openContextMenu} closeContextMenu={this.closeContextMenu} addNodeHandler={this.addNodeHandler}  />;\r\n\t\t\t}\r\n\t\t\telse if(item.type === \"journey\")\r\n\t\t\t{\r\n\t\t\t\treturn <Journey header={item.header} childNodes={item.childNodes} key={index} onNodeColourClick={this.onNodeColourClick} openContextMenu={this.openContextMenu} closeContextMenu={this.closeContextMenu} addNodeHandler={this.addNodeHandler}  />;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn(\r\n\t\t\t<div className={\"collections-container\"}>\r\n\t\t\t\t<div className={\"header-container\"}>\r\n\t\t\t\t\t<h2>Journeys</h2>\r\n\t\t\t\t\t<Button value={\"+\"} id={\"manual-add\"} style={{alignSelf: \"end\"}} onClick={(e) => {\r\n\t\t\t\t\t\tthis.openModal(e, <AddCollectionModal onAddCollectionSubmit={this.onAddCollectionSubmit} />);\r\n\t\t\t\t\t}} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{itemElements}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}