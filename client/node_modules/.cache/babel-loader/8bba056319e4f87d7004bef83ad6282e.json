{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\COMP3000_LEMA\\\\client\\\\src\\\\components\\\\modals\\\\ProfileSettingsModal.jsx\";\nimport { Component } from \"react\";\nimport { Textbox } from \"../controls/Textbox\";\nimport { Button } from \"../controls/Button\";\nimport { LabeledControl } from \"../controls/LabeledControl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ProfileSettingsModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayName: this.props.activeUser ? this.props.activeUser.displayName : \"\"\n    };\n    this.onFieldChange = this.onFieldChange.bind(this);\n    this.validate = this.validate.bind(this);\n  }\n\n  onFieldChange(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n  /**\r\n   * Validates form data.\r\n   * @param mode Whether to validate login or register data\r\n   * @returns {boolean}\r\n   */\n\n\n  validate(mode) {\n    let errorCollector = \"\"; // New user data\n\n    const displayName = this.state.displayName; // Client-side validation\n\n    if (displayName.length < 3) errorCollector += \"Display name too short (min. 3 characters).\\n\";\n    if (displayName.length > 32) errorCollector += \"Display name too long (max. 32 characters).\\n\";\n\n    if (errorCollector !== \"\") {\n      this.props.createToast(null, errorCollector, 5000, \"error\");\n      return false;\n    } else return true;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left profile-settings\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Profile Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-settings-data\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"User Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: /*#__PURE__*/_jsxDEV(LabeledControl, {\n                  label: \"Display name: \",\n                  children: /*#__PURE__*/_jsxDEV(Textbox, {\n                    name: \"displayName\",\n                    value: this.state.displayName,\n                    hint: \"e.g. \\\"Jordan F.\\\"\",\n                    autoFocus: true,\n                    onFieldChange: this.onFieldChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottom\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons-container\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            value: \"Submit\",\n            onClick: e => {\n              if (this.validate(this.state.mode)) {\n                this.props.editProfile(e, this.state);\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            value: \"DELETE ACCOUNT\",\n            onClick: e => {\n              const userConfirmed = window.confirm(\"This will permanently delete your profile and ALL of your saved maps - even the ones on the public showcase!\\n\" + \"This cannot be undone.\\n\\nDo you wish to proceed and permanently delete your profile?\");\n              if (userConfirmed) this.props.deleteProfile(e);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/xampp/htdocs/COMP3000_LEMA/client/src/components/modals/ProfileSettingsModal.jsx"],"names":["Component","Textbox","Button","LabeledControl","ProfileSettingsModal","constructor","props","state","displayName","activeUser","onFieldChange","bind","validate","event","target","name","value","type","checked","setState","mode","errorCollector","length","createToast","render","e","editProfile","userConfirmed","window","confirm","deleteProfile"],"mappings":"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","sourcesContent":["import {Component} from \"react\";\r\nimport {Textbox} from \"../controls/Textbox\";\r\nimport {Button} from \"../controls/Button\";\r\nimport {LabeledControl} from \"../controls/LabeledControl\";\r\n\r\nexport class ProfileSettingsModal extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdisplayName: (this.props.activeUser) ? (this.props.activeUser.displayName) : \"\"\r\n\t\t};\r\n\r\n\t\tthis.onFieldChange = this.onFieldChange.bind(this);\r\n\t\tthis.validate = this.validate.bind(this);\r\n\t}\r\n\r\n\tonFieldChange(event)\r\n\t{\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tconst value = (target.type === \"checkbox\") ? target.checked : target.value;\r\n\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Validates form data.\r\n\t * @param mode Whether to validate login or register data\r\n\t * @returns {boolean}\r\n\t */\r\n\tvalidate(mode)\r\n\t{\r\n\t\tlet errorCollector = \"\";\r\n\r\n\t\t// New user data\r\n\t\tconst displayName = this.state.displayName;\r\n\r\n\t\t// Client-side validation\r\n\t\tif(displayName.length < 3)\r\n\t\t\terrorCollector += \"Display name too short (min. 3 characters).\\n\";\r\n\t\tif(displayName.length > 32)\r\n\t\t\terrorCollector += \"Display name too long (max. 32 characters).\\n\";\r\n\r\n\t\tif(errorCollector !== \"\")\r\n\t\t{\r\n\t\t\tthis.props.createToast(null, errorCollector, 5000, \"error\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse return true;\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className={\"modal\"}>\r\n\t\t\t\t<div className={\"top\"}>\r\n\t\t\t\t\t<div className={\"left profile-settings\"}>\r\n\t\t\t\t\t\t<h2>Profile Settings</h2>\r\n\t\t\t\t\t\t<div className={\"profile-settings-data\"}>\r\n\t\t\t\t\t\t\t<div className={\"section\"}>\r\n\t\t\t\t\t\t\t\t<h4>User Data</h4>\r\n\t\t\t\t\t\t\t\t<div className={\"form\"}>\r\n\t\t\t\t\t\t\t\t\t<LabeledControl label={\"Display name: \"}>\r\n\t\t\t\t\t\t\t\t\t\t<Textbox name={\"displayName\"} value={this.state.displayName} hint={\"e.g. \\\"Jordan F.\\\"\"} autoFocus={true} onFieldChange={this.onFieldChange} />\r\n\t\t\t\t\t\t\t\t\t</LabeledControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={\"bottom\"}>\r\n\t\t\t\t\t<div className={\"buttons-container\"}>\r\n\t\t\t\t\t\t<Button value={\"Submit\"} onClick={(e) =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(this.validate(this.state.mode))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.editProfile(e, this.state);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t<Button value={\"DELETE ACCOUNT\"} onClick={(e) =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconst userConfirmed = window.confirm(\"This will permanently delete your profile and ALL of your saved maps - even the ones on the public showcase!\\n\" +\r\n\t\t\t\t\t\t\t\t\"This cannot be undone.\\n\\nDo you wish to proceed and permanently delete your profile?\");\r\n\t\t\t\t\t\t\tif(userConfirmed)\r\n\t\t\t\t\t\t\t\tthis.props.deleteProfile(e);\r\n\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}